(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{218:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),s("p",[t._v("We are using "),s("a",{attrs:{href:"https://dynaconf.readthedocs.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("dynaconf"),s("OutboundLink")],1),t._v(" for configuration management and the default config on "),s("a",{attrs:{href:"https://github.com/opa-stack/opa-stack/blob/master/api/data/opa/default-settings.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("github"),s("OutboundLink")],1),t._v(" or embedded below..:")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("/data/opa/default-settings.yaml")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MODE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prod"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PROJECT_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"opa-stack"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PROJECT_DESCRIPTION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PROJECT_VERSION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.1.0"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Urls to automatic documentation. Set to null to disable")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DOCS_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/docs"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("REDOC_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/redoc"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("OPENAPI_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/openapi.json"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Can only be null if DOCS_URL and REDOC_URL is also null")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("OPENAPI_PREFIX")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_PATHS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_WHITELIST_LIST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_WHITELIST_RE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_WHITELIST_TAGS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_BLACKLIST_LIST")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_BLACKLIST_RE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_BLACKLIST_TAGS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CORS")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ALLOW_ORIGINS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ALLOW_CREDENTIALS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ALLOW_METHODS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ALLOW_HEADERS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("SECRET_KEY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Configuration for optional components..")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# They all have a helper-file in ../utils/{component_name.lower()}.py, so check")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# in them if you wonder how these values are used. They are also listed in the docs")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# @ https://opa-stack.github.io/guide/components.html")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The LOAD option is always present, and can be one of auto|yes|no, all defaulting to 'auto'.")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#   * auto: Makes opa-stack look for the component using a simple dns-check or other simple checks")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#           Ie.. Check if we "should" be able to use this component.')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#           It will then try to connect as if you had written "yes", ie, it fails if it is not able to..')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#   * yes: Makes the coponent required")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#   * no: Makes it not check at all.")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("OPTIONAL_COMPONENTS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MONGODB")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("LOAD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DRIVER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mongodb-async-motor"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("OPTS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mongodb://mongo:mongo@mongo:27017/opa"')]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("WALRUS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("LOAD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DRIVER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redis-walrus"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("OPTS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redis://redis"')]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("AIOREDIS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("LOAD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DRIVER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redis-aioredis"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("OPTS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redis://redis"')]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("CELERY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("LOAD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DRIVER")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"celery"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("OPTS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BACKEND_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redis://redis/1"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BROKER_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pyamqp://guest@rabbitmq//"')]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Used different places, currently:")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  * Setting FastAPI/Starlette debug-mode (https://www.starlette.io/applications/)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("DEBUG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Turns on better exceptions, ie, prettier, and with some more info (like variables)")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BETTER_EXCEPTIONS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Python Tools for Visual Studio debug server, running on port 5678")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PTVSD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# External js files are loaded from the internet as default")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("SELF_HOSTED")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dev")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("MODE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dev"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PTVSD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BETTER_EXCEPTIONS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BETTER_EXCEPTIONS_MAX_LENGTH")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_PATHS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/opa/demo-plugins"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" dynaconf_merge\n")])])])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("The configuration is documenented in this file. All possible configuration is in it, so that is the reference.. Each configuration is not documented on this page.")])]),t._v(" "),s("p",[t._v("Dynaconf have a lot of ways to set configuration using files and/or environment-variables. They have very good documentation, so take a look at their page for tips if you need anything special.")]),t._v(" "),s("p",[t._v("The settings we use for dynaconf is:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("ENV_SWITCHER_FOR_DYNACONF")]),t._v(": Is "),s("code",[t._v("ENV")]),t._v(", meaning you use the environment variable "),s("code",[t._v("ENV")]),t._v(" to set the environment if you want to use those.")]),t._v(" "),s("li",[s("code",[t._v("ENVVAR_PREFIX_FOR_DYNACONF")]),t._v(": Is "),s("code",[t._v("OPA")]),t._v(". So every setting you want to override using environment variable needs to be prefixed with "),s("code",[t._v("OPA_")])]),t._v(" "),s("li",[s("code",[t._v("ROOT_PATH_FOR_DYNACONF")]),t._v(": Is "),s("code",[t._v("/data/settings")]),t._v(", which is the folder you need to put all your settings in if not overwritten by environment variables.")]),t._v(" "),s("li",[s("code",[t._v("INCLUDES_FOR_DYNACONF")]),t._v(": Is "),s("code",[t._v("['/data/opa/default-settings.yaml', '*.yaml', '*.json', '*.py', '*.ini', '*.toml']")]),t._v(". So those are the settings loaded in that order.")])]),t._v(" "),s("p",[t._v("Configurig opa-stack can therefor be done in a bunch of ways, see some "),s("a",{attrs:{href:"#examples"}},[t._v("examples")]),t._v(" below")]),t._v(" "),s("h2",{attrs:{id:"environment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#environment"}},[t._v("#")]),t._v(" Environment")]),t._v(" "),s("p",[t._v("Settings are put into environments. So if you want to bundle up your project with all different configuration, and an easy way to switch between the configs. Environments is for you..")]),t._v(" "),s("p",[t._v("See the examples below and you will see how you can have specific config only active in a specific environment.")]),t._v(" "),s("p",[t._v("You can set the environment using the "),s("code",[t._v("ENV")]),t._v(" environment variable to whichever environment you want. Note that the default variables is still set, but they can be overridden by the environments configuration.")]),t._v(" "),s("h3",{attrs:{id:"special-environments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#special-environments"}},[t._v("#")]),t._v(" Special environments")]),t._v(" "),s("h4",{attrs:{id:"dev"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dev"}},[t._v("#")]),t._v(" dev")]),t._v(" "),s("p",[t._v("If you set "),s("code",[t._v("dev")]),t._v(" as the "),s("code",[t._v("ENV")]),t._v(", you will get:")]),t._v(" "),s("ul",[s("li",[t._v("A webserver that reloads on file-changes")]),t._v(" "),s("li",[t._v("PTVSD enabled ("),s("a",{attrs:{href:"https://github.com/Microsoft/ptvsd/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python Tools for Visual Studio debug server"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/Qix-/better-exceptions",target:"_blank",rel:"noopener noreferrer"}},[t._v("better exceptions"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("code",[t._v("/data/opa/demo-plugins")]),t._v(" ("),s("a",{attrs:{href:"https://github.com/opa-stack/opa-stack/tree/master/api/data/opa/demo-plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("github code"),s("OutboundLink")],1),t._v(") enabled")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Take a look at the "),s("a",{attrs:{href:"/guide/development"}},[t._v("development guide")]),t._v(" for more info about how to leverage what dev-mode enables.")])]),t._v(" "),s("h2",{attrs:{id:"examples"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),s("h3",{attrs:{id:"using-a-file-mounted"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-a-file-mounted"}},[t._v("#")]),t._v(" Using a file mounted")]),t._v(" "),s("p",[t._v("If you mount files into the directory "),s("code",[t._v("/data/settings")]),t._v(", you can have your settings in 1 or more files with "),s("code",[t._v(".yaml")]),t._v(", "),s("code",[t._v(".json")]),t._v(", "),s("code",[t._v(".py")]),t._v(", "),s("code",[t._v(".ini")]),t._v(", or "),s("code",[t._v(".toml")]),t._v(" extension. Example with a simple "),s("code",[t._v(".yaml")]),t._v(" file")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PROJECT_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"opa-stack"')]),t._v("\n")])])]),s("h3",{attrs:{id:"using-environment-variables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-environment-variables"}},[t._v("#")]),t._v(" Using environment variables")]),t._v(" "),s("p",[t._v("Prepend your environment-variable with "),s("code",[t._v("OPA_")]),t._v(", example setting "),s("code",[t._v("OPA_PROJECT_NAME=opa-stack")])]),t._v(" "),s("h3",{attrs:{id:"file-with-different-environments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file-with-different-environments"}},[t._v("#")]),t._v(" File with different environments")]),t._v(" "),s("p",[t._v("Mounting in a yaml-file like this")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_PATHS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/defaultplugins"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("both")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_PATHS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/specialplugins"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" dynaconf_merge\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("secret")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("PLUGIN_PATHS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/data/specialplugins"')]),t._v("\n")])])]),s("p",[t._v("will default set the plugin-path to "),s("code",[t._v("/data/defaultplugins")]),t._v(". However, if you set the environment variable "),s("code",[t._v("ENV")]),t._v(" to "),s("code",[t._v("both")]),t._v(", it will load plugins from both "),s("code",[t._v("/data/defaultplugins")]),t._v(" and "),s("code",[t._v("/data/specialplugins")]),t._v(" (the special item "),s("code",[t._v("dynaconf_merge")]),t._v(" merges instead of overwriting).")]),t._v(" "),s("p",[t._v("Setting "),s("code",[t._v("ENV")]),t._v(" to "),s("code",[t._v("secret")]),t._v(" will only load plugins from "),s("code",[t._v("/data/specialplugins")])])])}),[],!1,null,null,null);a.default=n.exports}}]);